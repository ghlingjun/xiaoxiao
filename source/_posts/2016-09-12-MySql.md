---
layout: default
title: MySql 常用操作命令
date: 2016-09-12 23:09:09
tags: MySql
---
# 概述
总结的一些 MySql 操作命令

### 创建数据库
```
drop database p2p_7;
create database p2p_7 default character set UTF8;
grant all privileges on p2p_7.* to primecocn@'%' identified by 'primecocn';
```
### 导出表结构
mysqldump -h192.168.3.160 --opt --set-gtid-purged=OFF -d eagle_transfer -uprimecocn -p > ddl-eagle_transfer-20160912.sql

### 导出数据
mysqldump -t -h192.168.3.160 --set-gtid-purged=OFF p2p_7 -uprimecocn -p > data-eagle_transfer_20160919.sql

### 导出表结构与数据
mysqldump -uprimecocn -p --default-character-set=utf8 --set-gtid-purged=OFF eagle_transfer > eagle_transfer20160912.sql

### 导入sql脚本
- 方式一：
```
mysql -h192.168.3.160 -uprimecocn -p p2p_7 < p2p_7.sql
```
- 方式二：先登录数据库，然后执行命令(这种方式将顺序执行脚本，如果数据量大，不建议使用此种方式)：
```
mysql > source p2p_7.sql
```

### MySQL 编码设置
查看 MySQL DB 编码
```
show variables like 'character%';

| character_set_client     | utf8                       |
| character_set_connection | utf8                       |
| character_set_database   | latin1                     |
| character_set_filesystem | binary                     |
| character_set_results    | utf8                       |
| character_set_server     | latin1                     |
| character_set_system     | utf8                       |
| character_sets_dir       | /usr/share/mysql/charsets/ |
```
使用下面命令设置编码：
```
set character_set_database=utf8;
```
修改已有数据库编码的命令如下：
```
alter database dbname character set utf8;
```
